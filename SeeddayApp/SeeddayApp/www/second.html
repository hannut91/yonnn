<!DOCTYPE html>
<html >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="scripts/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="scripts/splashscreen.js"></script>
    <script src="scripts/framework/angular.min.js"></script>
    
    <link href="css/Seedday.css" rel="stylesheet" />
    <link href="css/second.css" rel="stylesheet" />
    <script type="text/javascript">
        var tempfortest;
        $(document).ready(function () {
            //splashscreen 가리기
            setTimeout(function () {
                navigator.splashscreen.hide();
            }, 2000);

            //목표 값 가져와서 메인페이지에 보여주기
            document.getElementById("mainpageMidText").innerHTML = '<span class="mainText1">'+localStorage.getItem("goal")+'</span>';

            /* 내가 원하는 값 먼저 띄워주기
            $("#Day1").removeClass("active");
            $("#Day1" + "-tab").css("display", "none");
            $("#Day2").removeClass("active");
            $("#Day2" + "-tab").css("display", "none");
            $("#Day2").removeClass("active");
            $("#Day2" + "-tab").css("display", "none");
            $("#" + "Day3" + "-tab").fadeIn();
            $("#" + "Day3").addClass("active");
            */
            //날짜 계산해서 출력해주기
            var today = new Date(localStorage.getItem("curDate"));
            var tomorrow = new Date(today.valueOf() + (24 * 60 * 60 * 1000));
            var aftertomorrow = new Date(today.valueOf() + (24 * 60 * 60 * 1000*2));
            document.getElementById("Day1Month").innerHTML = today.getMonth() + 1;
            document.getElementById("Day2Month").innerHTML = tomorrow.getMonth() + 1;
            document.getElementById("Day3Month").innerHTML = aftertomorrow.getMonth() + 1;
            document.getElementById("Day1Day").innerHTML = today.getDate();
            document.getElementById("Day2Day").innerHTML = tomorrow.getDate();
            document.getElementById("Day3Day").innerHTML = aftertomorrow.getDate();

            //Tab 컨트롤
            var activeTabIndex = -1;
            var tabNames = ["Day1", "Day2", "Day3"];

            $(".tab-menu > li").click(function (e) {
                for (var i = 0; i < tabNames.length; i++) {
                    if (e.target.id == tabNames[i]) {
                        activeTabIndex = i;
                    } else {
                        $("#" + tabNames[i]).removeClass("active");
                        $("#" + tabNames[i] + "-tab").css("display", "none");
                    }
                }
                $("#" + tabNames[activeTabIndex] + "-tab").fadeIn();
                $("#" + tabNames[activeTabIndex]).addClass("active");
                return false;
            });
        });
           // $('#Day1').attr('disabled', true); //add
            //$('#tab_c a').removeAttr('disabled'); //remove
    </script>

</head>
<body class="introback"style="height:100%;margin:0px;overflow:hidden">
    <div>
        <!--상 이미지-->
        <section class="mainpageTop">
            <img class="mainpageTopImg" src="images/mainpage/mainpage_top.png" />
        </section>
        <!--//상 이미지-->

        <!--중앙 텍스트-->
        <section class="mainpageMid">
            <p id="mainpageMidText"><span class="mainText1">아침에 일어나서 스트레칭하기</span></p>
        </section>
        <!--//중앙 텍스트-->
    </div>
    <!--오늘의 실천 기록하기 작성 팝업-->
    <div id="popupView3Id" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 id="decoDday" class="popupDecoText">Day-1</h2>
        </div>
        <h1><span class="popupText1">실천기록하기</span></h1>
        <input type="text" placeholder="여기를 눌러 실천기록을 작성해주세요" ng-model="promiseContent" />
        <section id="popupView2BtnId" class="popupView1Btn">
            <p>확인</p>
        </section>
    </div>
    <!--오늘의 실천 기록하기 작성 팝업-->
    <!--DAY1 페이지 성공 팝업-->
    <div id="day1Success" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 class="popupDecoText">Day-1</h2>
        </div>
        <h1><span class="popupText1">오늘의 실천성공</span></h1>
        <p class="day1SuccessText">식물에게 물을 듬뿍 주었습니다.</br>작은시작이 싹을 틔웠어요!</p>
        <img class="day1SuccessImg" src="images/mainpage/day1Success.png" />
        <section id="popupView1BtnId" class="popupView1Btn">
            <p>확인</p>
        </section>
    </div>
    <!--DAY1 페이지 성공 팝업-->
    <!--DAY2 페이지 성공 팝업-->
    <div id="day2Success" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 class="popupDecoText">Day-2</h2>
        </div>
        <h1><span class="popupText1">오늘의 실천성공</span></h1>
        <p>식물에게 햇살이 가득히 비칩니다.</br>작은시작이 줄기가 자랐어요</p>
        <section id="popupView1BtnId" class="popupView1Btn">
            <p>확인</p>
        </section>
    </div>
    <!--DAY2 페이지 성공 팝업-->
    <!--DAY3 페이지 성공 팝업-->
    <div id="day3Success" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 class="popupDecoText">Day-3</h2>
        </div>
        <h1><span class="popupText1">오늘의 실천성공</span></h1>
        <p>식물에게 영양분이 충분히 뿌려집니다.</br>작은시작이 활짝 피어났어요!</p>
        <section id="popupView1BtnId" class="popupView1Btn">
            <p>확인</p>
        </section>
    </div>
    <!--DAY3 페이지 성공 팝업-->
    <!--보상신청 팝업-->
    <div id="popupView5Id" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 class="popupDecoText">Day-3</h2>
        </div>
        <h1><span class="popupText1">작은시작 실천성공</span></h1>
        <p>
            작은시작실천을 성공하신 분께</br>허브키우기 KIT를 무료로 보내드립니다.
            </br>
            </br>
            [다음]버튼을 누르시면</br>주소입력페이지로 이동됩니다.
        </p>
        <section id="popupView1BtnId" class="popupView1Btn">
            <p>다음</p>
        </section>
    </div>
    <!--보상신청 팝업-->

    <!--예외처리 시간초과 팝업-->
    <div id="popupView6Id" class="popupView1">
        <div class="popupDecoWrap">
            <img class="popupDeco" src="images/popup_deco.png" />
            <h2 class="popupDecoText">Day-3</h2>
        </div>
        <h1><span class="popupText1">작은시작 시간초과</span></h1>
        <p>
            아쉽게도 오늘의 실천을 약속한</br>시간이 지나버렸습니다.
            </br>
            지금 다시 시작해보세요.
        </p>
        <section id="popupView1BtnId" class="popupView1Btn">
            <p>다시 시작하기</p>
        </section>
    </div>
    <!--예외처리 시간초과 팝업-->
 
    <!--Day 탭-->
    <div id="tab-container">
        <img class="mainPlant"src="images/mainpage/mainpage_plant.png"/>
        <img class="mainParticle1" src="images/mainpage/main_particle5.png" />
        <img class="mainParticle2" src="images/mainpage/main_particle2.png" />
        <img class="mainParticle3" src="images/mainpage/main_particle4.png" />
        <img class="mainParticle4" src="images/mainpage/main_particle3.png" />
        <img class="mainParticle5" src="images/mainpage/main_particle4.png" />
        <img class="mainParticle6" src="images/mainpage/main_particle2.png" />
        <img class="mainParticle7" src="images/mainpage/main_particle3.png" />
        <img class="mainParticle8" src="images/mainpage/main_particle2.png" />
        <img class="mainParticle9" src="images/mainpage/main_particle1.png"/>

        <ul class="tab-menu">
            <li id="Day1" class="active">DAY-1</li>
            <li id="Day2">DAY-2</li>
            <li id="Day3">DAY-3</li>
        </ul>
        <div class="clear"></div>
        <div class="tab-top-border"></div>
        <div id="Day1-tab" class="tab-content active">
            <section id="temp">
                <p class="mainText1" id="mainText1"><span id="Day1Month">11</span>월 <span id="Day1Day">11</span>일 24:00 까지<br>작은 시작의 실천을 기록해주세요!</p>
            <div class="mainBtn1">
                <p><img src="images/plusImage_white.png" /> 오늘의 실천 기록하기</p>
            </div>
            </section>
        </div>
        <div id="Day2-tab" class="tab-content">
            <p class="mainText1"><span id="Day2Month">11</span>월 <span id="Day2Day">11</span>일 24:00 까지<br>작은 시작의 실천을 기록해주세요!</p>
            <div class="mainBtn1">
                <p><img src="images/plusImage_white.png" /> 오늘의 실천 기록하기</p>
            </div>
        </div>
        <div id="Day3-tab" class="tab-content">
            <p class="mainText1"><span id="Day3Month">11</span>월 <span id="Day3Day">11</span>일 24:00 까지<br>작은 시작의 실천을 기록해주세요!</p>
            <div class="mainBtn1">
                <p><img src="images/plusImage_white.png" /> 오늘의 실천 기록하기</p>
            </div>
        </div>
    </div>

    <div style="display:none">
        <section id="change">
            <p>바꿔치기 ㅎㅎ</p>
        </section>
    </div>
    <!--Day 탭-->
     <script>

       //터치 이벤트 핸들러
        function eventHandler(event, selector) {
            event.stopPropagation();
            event.preventDefault();
            if (event.type === 'touchend') {
                selector.off('click');
            }
        }

        //하단 버튼 클릭 시 팝업 on
        $('.mainBtn1').on('touchend click', function (event) {
            eventHandler(event, $(this));
            if ($('#Day1').hasClass("active")) {
                document.getElementById("decoDday").innerHTML = "Day-1";
            }
            else if ($('#Day2').hasClass("active")) {
                document.getElementById("decoDday").innerHTML = "Day-2";

            }
            else if ($('#Day3').hasClass("active")) {
                document.getElementById("decoDday").innerHTML = "Day-3";
            }

            //실제 작동하는 코드
            $('.mainBtn1').css({
                "-webkit-animation-name": 'downBtn',
                "-webkit-animation-delay": '0s'
            });
            $('#popupView3Id').addClass("on");
            var popupWidth = $('#popupView3Id').outerWidth();
            var popupHeight = $('#popupView3Id').outerHeight();
            $('#popupView3Id').css({
                "margin-left": -popupWidth / 2,
                "margin-top": -popupHeight / 2
            });

            $('<div id="blind_box"></div>').css('opacity', 0.7).appendTo('body');
            
        });

        // 실천기록하기 후 확인버튼 클릭시
        $('#popupView2BtnId').on('touchend click', function (event) {
            eventHandler(event, $(this));
            //유효성 검사 (작성안할시 return)
            if ($('#popupView3Id input').val() != "") {
                $('#popupView3Id').removeClass("on");
                if ($('#Day1').hasClass("active")) {
                    $('#day1Success').addClass("on");
                    var popupWidth = $('#day1Success').outerWidth();
                    var popupHeight = $('#day1Success').outerHeight();
                    $('#day1Success').css({
                        "margin-left": -popupWidth / 2,
                        "margin-top": -popupHeight / 2
                    });
                }
                else if ($('#Day2').hasClass("active")) {
                    $('#day2Success').addClass("on");
                    var popupWidth = $('#day2Success').outerWidth();
                    var popupHeight = $('#day2Success').outerHeight();
                    $('#day2Success').css({
                        "margin-left": -popupWidth / 2,
                        "margin-top": -popupHeight / 2
                    });
                }
                else if ($('#Day3').hasClass("active")) {
                    $('#day3Success').addClass("on");
                    var popupWidth = $('#day3Success').outerWidth();
                    var popupHeight = $('#day3Success').outerHeight();
                    $('#day3Success').css({
                    "margin-left": -popupWidth / 2,
                    "margin-top": -popupHeight / 2
                });
            }
            }
            else {
                alert("내용을 입력해주세요.");
            }
        });

        //실천성공 클릭시 팝업 지우기
        $('#popupView1BtnId').on('touchend click', function (event) {
            eventHandler(event, $(this));
            document.getElementById("blind_box").remove();
            $('#popupView4Id').removeClass("on");
            //탭 내용 변경
            $("#temp").replaceWith($("#change"));
           // document.getElementById("Day1-tab").innerHTML = $("#change").html;
        });
        
    </script>
    <script src="cordova.js"></script>
    <script src="scripts/platformOverrides.js"></script>
</body>
</html>
